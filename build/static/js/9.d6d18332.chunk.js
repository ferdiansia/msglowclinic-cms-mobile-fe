(this["webpackJsonpmsclinic-mobile-cms-fe"]=this["webpackJsonpmsclinic-mobile-cms-fe"]||[]).push([[9],{448:function(e,t,n){"use strict";var a=n(553),i=n(11),c=n(359),r=n(2),l=Object(i.a)(c.a)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4,0),";\n")}));t.a=function(e){var t=e.children;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(l,{children:Object(r.jsx)(a.a,{maxWidth:"lg",children:t})})})}},460:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n="",a=e.split(t);return a.forEach((function(e,t){n+=e.trim().replace(/^\w/,(function(e){return e.toUpperCase()})).replaceAll("-"," "),t!==a.length-1&&(n+=" ")})),n}},489:function(e,t,n){"use strict";var a=n(438),i=n(737),c=n(738),r=n(739),l=n(740),o=n(741),d=n(427),s=n(0),j=n.n(s),u=n(512),b=n.n(u),O=n(2);function h(e){return Object(O.jsxs)(i.a,{open:e.open,onClose:function(){return e.handleClose()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(O.jsx)(c.a,{id:"alert-dialog-title",children:e.title}),Object(O.jsx)(r.a,{children:Object(O.jsx)(l.a,{id:"alert-dialog-description",children:e.content})}),Object(O.jsxs)(o.a,{children:[Object(O.jsx)(d.a,{variant:"contained",sx:{width:100},disabled:e.loading,onClick:function(){return e.handleClose()},children:"Tidak"}),Object(O.jsx)(a.a,{variant:"contained",sx:{width:100},loading:e.loading,disabled:e.loading,onClick:e.onClick,color:"error",startIcon:Object(O.jsx)(b.a,{fontSize:"small"}),autoFocus:!0,children:"Hapus"})]})]})}t.a=j.a.memo(h)},499:function(e,t,n){"use strict";var a=n(706),i=n(432),c=n(426),r=n(427),l=n(468),o=n.n(l),d=n(460),s=n(0),j=n.n(s),u=n(2);function b(e){return Object(u.jsxs)(a.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(u.jsx)(a.a,{item:!0,children:Object(u.jsx)(i.a,{variant:"h3",component:"h3",gutterBottom:!0,children:Object(d.a)(e.title)})}),!!e.hasCreate&&Object(u.jsx)(a.a,{item:!0,children:Object(u.jsx)(c.a,{title:"Create",arrow:!0,children:Object(u.jsxs)(r.a,{sx:{mt:{xs:2,md:0}},variant:"contained",onClick:function(){return e.handleOpenModalForm()},startIcon:Object(u.jsx)(o.a,{fontSize:"small"}),children:["Create ",Object(d.a)(e.title)]})})})]})}t.a=j.a.memo(b)},726:function(e,t,n){"use strict";n.r(t);var a=n(16),i=n(23),c=n(14),r=n(553),l=n(706),o=n(0),d=n.n(o),s=n(489),j=n(448),u=n(144),b=n(54),O=n(68),h=n(499),f=n(438),x=n(737),m=n(738),p=n(432),v=n(739),g=n(741),C=n(427),y=n(22),k=n(11),w=n(359),S=n(721),V=n(727),D=n(724),_=n(452),z=n(479),F=n(480),E=n(81),I=n(2),W=Object(k.a)(w.a)((function(){return"\n    color: red\n  "})),T=Object(z.b)({title:Object(z.c)().required("Title wajib diisi")}).required(),M=function(e){var t,n=Object(E.c)(u.e),a=Object(y.a)({id:null,title:"",description:"",is_enabled:0,parent_id:"",file:"",item_ids:[]},null===e||void 0===e?void 0:e.defaultValue),i=Object(_.e)({resolver:Object(F.a)(T),defaultValues:a}),c=i.control,r=i.handleSubmit,l=i.formState.errors;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("form",{id:"item-category-form",onSubmit:r((function(t){return e.onSubmit(t)})),autoComplete:"off",children:[Object(I.jsx)(w.a,{mt:3,children:Object(I.jsx)(_.a,{name:"title",control:c,defaultValue:"",render:function(e){var t,n=e.field;return Object(I.jsx)(S.a,Object(y.a)(Object(y.a)({},n),{},{type:"text",placeholder:"Title",label:"Title",fullWidth:!0,error:!(null===l||void 0===l||!l.title),helperText:null===(t=l.title)||void 0===t?void 0:t.message}))}})}),Object(I.jsx)(w.a,{mt:3,children:Object(I.jsx)(_.a,{name:"description",control:c,defaultValue:"",render:function(e){var t=e.field;return Object(I.jsx)(S.a,Object(y.a)(Object(y.a)({},t),{},{type:"text",placeholder:"Description",label:"Description",fullWidth:!0}))}})}),Object(I.jsx)(w.a,{mt:3,children:Object(I.jsx)(_.a,{name:"is_enabled",control:c,defaultValue:"",render:function(e){var t=e.field;return Object(I.jsx)(V.a,Object(y.a)(Object(y.a)({},t),{},{defaultChecked:!!t.value,inputProps:{"aria-label":"Enabled"},size:"medium"}))}})}),!(null!==e&&void 0!==e&&null!==(t=e.defaultValue)&&void 0!==t&&t.length)&&Object(I.jsx)(w.a,{mt:3,children:Object(I.jsx)(_.a,{name:"parent_id",control:c,defaultValue:"",render:function(e){var t=e.field;return Object(I.jsx)(D.a,{disablePortal:!0,options:n.map((function(e){return{label:e.title,id:e.id}})),getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e,t){return e.id===t.id},onChange:function(e,n){return t.onChange(n)},sx:{width:300,position:"relative",zIndex:50},renderInput:function(e){return Object(I.jsx)(S.a,Object(y.a)(Object(y.a)({},e),{},{label:"Parent"}))}})}})}),Object(I.jsx)(w.a,{mt:3,children:Object(I.jsx)(_.a,{name:"file",control:c,defaultValue:"",render:function(e){var t,n=e.field;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("input",{type:"file",onChange:function(e){n.onChange(e.target.files[0])}}),(null===l||void 0===l?void 0:l.file)&&Object(I.jsx)(W,{children:null===l||void 0===l||null===(t=l.file)||void 0===t?void 0:t.message})]})}})})]})})},B=Object(o.memo)(M);function q(e){return Object(I.jsxs)(x.a,{disableEscapeKeyDown:!0,open:e.open,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsx)(m.a,{children:Object(I.jsx)(p.a,{variant:"h3",gutterBottom:!0,children:"Items Category Cover"})}),Object(I.jsx)(v.a,{style:{height:"80vh"},children:Object(I.jsx)(B,{onSubmit:e.onSubmit,defaultValue:e.defaultValue})}),Object(I.jsxs)(g.a,{children:[Object(I.jsx)(C.a,{onClick:e.handleClose,variant:"contained",color:"error",disabled:!!e.loading,sx:{width:100},children:"Batal"}),Object(I.jsx)(f.a,{type:"submit",loading:!!e.loading,disabled:!!e.loading,form:"item-category-form",variant:"contained",sx:{width:100},children:"Simpan"})]})]})}var A=d.a.memo(q),P=n(730),J=n(27),H=n(731),K=n(732),L=n(733),N=n(734),U=n(735),G=n(736),Q=n(426),R=n(436),X=n(488),Y=n.n(X),Z=n(510),$=n.n(Z),ee=function(e){var t=e.edit,n=e.handleDelete,a=Object(E.c)(u.e),i=Object(J.a)();return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(P.a,{children:Object(I.jsx)(H.a,{children:Object(I.jsxs)(K.a,{children:[Object(I.jsx)(L.a,{children:Object(I.jsxs)(N.a,{children:[Object(I.jsx)(U.a,{children:"Cover"}),Object(I.jsx)(U.a,{children:"Category Name"}),Object(I.jsx)(U.a,{align:"right",children:"Actions"})]})}),Object(I.jsx)(G.a,{children:a.map((function(e,a){var c;return Object(I.jsxs)(N.a,{hover:!0,children:[Object(I.jsx)(U.a,{width:110,children:Object(I.jsx)("img",{loading:"lazy",width:100,alt:"category img",src:null===e||void 0===e||null===(c=e.cover)||void 0===c?void 0:c.url})}),Object(I.jsx)(U.a,{children:Object(I.jsx)(p.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.title})}),Object(I.jsxs)(U.a,{align:"right",children:[Object(I.jsx)(Q.a,{title:"Edit",arrow:!0,children:Object(I.jsx)(R.a,{onClick:function(){return t(e)},sx:{"&:hover":{background:i.colors.primary.lighter},color:i.palette.primary.main},color:"inherit",size:"small",children:Object(I.jsx)(Y.a,{fontSize:"small"})})}),n&&Object(I.jsx)(Q.a,{title:"Delete",arrow:!0,children:Object(I.jsx)(R.a,{onClick:function(){return n(e.id)},sx:{"&:hover":{background:i.colors.error.lighter},color:i.palette.error.main},color:"inherit",size:"small",children:Object(I.jsx)($.a,{fontSize:"small"})})})]})]},e.id)}))})]})})})})},te=d.a.memo(ee);function ne(e){var t=Object(b.b)(),n=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(u.c)({type:"collection",relations:"cover"}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){n()}),[]),Object(I.jsx)(P.a,{children:Object(I.jsx)(te,{edit:e.handleOpenModalEdit,handleDelete:e.handleOpenModalDelete})})}var ae=Object(o.memo)(ne),ie=n(21);function ce(){var e,t,n=Object(b.b)(),d=Object(O.d)(),f=Object(o.useState)(!1),x=Object(c.a)(f,2),m=x[0],p=x[1],v=Object(o.useState)(!1),g=Object(c.a)(v,2),C=g[0],y=g[1],k=Object(o.useState)({}),w=Object(c.a)(k,2),S=w[0],V=w[1],D=Object(b.c)((function(e){return e.item_category})),_=D.entities,z=D.loading;console.log(_);var F=Object(o.useState)(null),E=Object(c.a)(F,2),W=E[0],T=E[1],M=Object(o.useCallback)((function(e){V(e),p(!0)}),[]),B=Object(o.useCallback)((function(){V({}),p(!1)}),[]),q=Object(o.useCallback)((function(e){T(e),y(!0)}),[]),P=Object(o.useCallback)((function(){y(!1),setTimeout((function(){T(null)}),100)}),[]),J=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(Object(u.d)({id:W}));case 3:t=e.sent,Object(ie.e)(t)&&(d.show("Data berhasil dihapus"),P()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.show(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),H=Object(o.useCallback)(function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var i,c,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.relations="cover",c=new FormData,null!==t&&void 0!==t&&null!==(i=t.file)&&void 0!==i&&i.id||c.append("cover",t.file),delete t.file,t.is_enabled=t.is_enabled?1:0,t.parent_id&&(t.parent_id=t.parent_id.id),e.prev=6,e.next=9,n(null!==t&&void 0!==t&&t.id?Object(u.f)({payload:t,body:c}):Object(u.a)({payload:t,body:c}));case 9:r=e.sent,Object(ie.e)(r)&&B(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),d.show(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(j.a,{children:Object(I.jsx)(h.a,{title:"Items Category",handleOpenModalForm:M,hasCreate:!0})}),Object(I.jsx)(r.a,{maxWidth:"lg",sx:{mb:10},children:Object(I.jsx)(l.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:Object(I.jsx)(l.a,{item:!0,xs:12,children:Object(I.jsx)(ae,{handleOpenModalDelete:q,handleOpenModalEdit:M})})})}),Object(I.jsx)(A,{open:m,handleClose:function(){return B()},onSubmit:H,defaultValue:S,loading:z}),Object(I.jsx)(s.a,{open:C,handleClose:P,title:"Anda yakin ingin menghapus kategori ini ".concat(null===_||void 0===_||null===(e=_[W])||void 0===e?void 0:e.title),content:'Dengan menghapus kategori "'.concat(null===_||void 0===_||null===(t=_[W])||void 0===t?void 0:t.title,'" maka\n      data kategori akan hilang secara permanen.'),onClick:function(){J()},loading:z})]})}t.default=Object(o.memo)(ce)}}]);
//# sourceMappingURL=9.d6d18332.chunk.js.map