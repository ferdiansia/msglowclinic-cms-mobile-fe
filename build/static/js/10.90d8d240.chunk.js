(this["webpackJsonpmsclinic-mobile-cms-fe"]=this["webpackJsonpmsclinic-mobile-cms-fe"]||[]).push([[10],{448:function(e,t,n){"use strict";var a=n(553),c=n(11),i=n(359),r=n(2),l=Object(c.a)(i.a)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4,0),";\n")}));t.a=function(e){var t=e.children;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(l,{children:Object(r.jsx)(a.a,{maxWidth:"lg",children:t})})})}},460:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n="",a=e.split(t);return a.forEach((function(e,t){n+=e.trim().replace(/^\w/,(function(e){return e.toUpperCase()})).replaceAll("-"," "),t!==a.length-1&&(n+=" ")})),n}},489:function(e,t,n){"use strict";var a=n(438),c=n(737),i=n(738),r=n(739),l=n(740),o=n(741),d=n(427),s=n(0),j=n.n(s),b=n(512),u=n.n(b),O=n(2);function h(e){return Object(O.jsxs)(c.a,{open:e.open,onClose:function(){return e.handleClose()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(O.jsx)(i.a,{id:"alert-dialog-title",children:e.title}),Object(O.jsx)(r.a,{children:Object(O.jsx)(l.a,{id:"alert-dialog-description",children:e.content})}),Object(O.jsxs)(o.a,{children:[Object(O.jsx)(d.a,{variant:"contained",sx:{width:100},disabled:e.loading,onClick:function(){return e.handleClose()},children:"Tidak"}),Object(O.jsx)(a.a,{variant:"contained",sx:{width:100},loading:e.loading,disabled:e.loading,onClick:e.onClick,color:"error",startIcon:Object(O.jsx)(u.a,{fontSize:"small"}),autoFocus:!0,children:"Hapus"})]})]})}t.a=j.a.memo(h)},722:function(e,t,n){"use strict";n.r(t);var a=n(16),c=n(23),i=n(14),r=n(553),l=n(706),o=n(0),d=n.n(o),s=n(142),j=n(448),b=n(21),u=n(143),O=n(54),h=n(730),x=n(27),p=n(731),m=n(732),f=n(733),v=n(734),g=n(735),y=n(736),w=n(432),C=n(426),k=n(436),D=n(488),M=n.n(D),E=n(510),S=n.n(E),T=n(196),B=n(552),W=n(2),F=function(e){var t,n=Object(O.c)((function(e){return e.banners})).mainBannerData,a=Object(x.a)();return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(h.a,{children:Object(W.jsx)(p.a,{children:Object(W.jsxs)(m.a,{children:[Object(W.jsx)(f.a,{children:Object(W.jsxs)(v.a,{children:[Object(W.jsx)(g.a,{width:110,children:"Image"}),Object(W.jsx)(g.a,{children:"Title"}),Object(W.jsx)(g.a,{children:"Description"}),Object(W.jsx)(g.a,{children:"Expired Date"}),Object(W.jsx)(g.a,{align:"right",children:"Actions"})]})}),Object(W.jsx)(y.a,{children:null===n||void 0===n||null===(t=n["".concat(e.type,"-banner")])||void 0===t?void 0:t.map((function(t,n){return Object(W.jsxs)(v.a,{hover:!0,children:[Object(W.jsx)(g.a,{width:110,children:Object(W.jsx)("img",{loading:"lazy",width:100,alt:"banner img",src:t.file.url})}),Object(W.jsx)(g.a,{children:Object(W.jsx)(w.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.title})}),Object(W.jsx)(g.a,{children:Object(W.jsx)(w.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.description})}),Object(W.jsx)(g.a,{children:Object(W.jsx)(w.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:(null===t||void 0===t?void 0:t.expired_at)&&Object(B.a)(Object(B.b)(Object(T.a)(t.expired_at),"UTC"),"dd-MM-yyyy HH:mm",{timeZone:"UTC"})})}),Object(W.jsxs)(g.a,{align:"right",children:[Object(W.jsx)(C.a,{title:"Edit",arrow:!0,children:Object(W.jsx)(k.a,{onClick:function(){return e.handleOpenEdit(t)},sx:{"&:hover":{background:a.colors.primary.lighter},color:a.palette.primary.main},color:"inherit",size:"small",children:Object(W.jsx)(M.a,{fontSize:"small"})})}),e.hasDelete&&Object(W.jsx)(C.a,{title:"Delete",arrow:!0,children:Object(W.jsx)(k.a,{onClick:function(){return e.handleDelete(n)},sx:{"&:hover":{background:a.colors.error.lighter},color:a.palette.error.main},color:"inherit",size:"small",children:Object(W.jsx)(S.a,{fontSize:"small"})})})]})]},t.id)}))})]})})})})},H=d.a.memo(F);function V(e){var t=Object(O.b)(),n=function(){var n=Object(c.a)(Object(a.a)().mark((function n(){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(Object(u.c)({slug:"".concat(e.title,"-banner"),type:"collection",relations:"file"}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(o.useEffect)((function(){n()}),[e.title]),Object(W.jsx)(h.a,{children:Object(W.jsx)(H,{handleDelete:e.handleOpenModalDelete,handleOpenEdit:e.handleOpenModalEdit,hasDelete:!!e.hasDelete,type:e.title})})}var z=Object(o.memo)(V),_=n(427),I=n(468),U=n.n(I),q=n(460);function A(e){return Object(W.jsxs)(l.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(W.jsx)(l.a,{item:!0,children:Object(W.jsxs)(w.a,{variant:"h3",component:"h3",gutterBottom:!0,children:[Object(q.a)(e.title)," Banner"]})}),!!e.hasCreate&&Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(C.a,{title:"Create",arrow:!0,children:Object(W.jsxs)(_.a,{sx:{mt:{xs:2,md:0}},variant:"contained",onClick:function(){return e.handleOpenModalForm({slug:"".concat(e.title,"-banner")})},startIcon:Object(W.jsx)(U.a,{fontSize:"small"}),children:["Create ",Object(q.a)(e.title)," Banner"]})})})]})}var L=d.a.memo(A),J=n(68),R=n(489);function Z(e){var t,n,d,s,h=Object(o.useState)(!1),x=Object(i.a)(h,2),p=x[0],m=x[1],f=Object(O.c)((function(e){return e.banners})).mainBannerData,v=Object(o.useState)(null),g=Object(i.a)(v,2),y=g[0],w=g[1],C=Object(O.b)(),k=Object(J.d)(),D=["promo","about-us-gallery"],M=Object(o.useCallback)((function(){m(!1),setTimeout((function(){w(null)}),100)}),[]),E=Object(o.useCallback)((function(e){w(e),m(!0)}),[]),S=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){var n,c,i,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c="".concat(e.type,"-banner"),i=null===(n=f[c][y])||void 0===n?void 0:n.id,t.next=5,C(Object(u.d)({type:c,id:i}));case 5:r=t.sent,Object(b.e)(r)&&(k.show("Data berhasil dihapus"),M()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),k.show(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(j.a,{children:Object(W.jsx)(L,{title:e.type,handleOpenModalForm:e.handleOpenModal,hasCreate:D.includes(e.type)})}),Object(W.jsx)(r.a,{maxWidth:"lg",sx:{mb:10},children:Object(W.jsx)(l.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:Object(W.jsx)(l.a,{item:!0,xs:12,children:Object(W.jsx)(z,{title:e.type,handleOpenModalDelete:E,hasDelete:D.includes(e.type),handleOpenModalEdit:e.handleOpenModalEdit})})})}),Object(W.jsx)(R.a,{open:p,handleClose:M,title:"Anda yakin ingin menghapus banner ".concat(null===f||void 0===f||null===(t=f["".concat(e.type,"-banner")])||void 0===t||null===(n=t[y])||void 0===n?void 0:n.title),content:'Dengan menghapus banner "'.concat(null===f||void 0===f||null===(d=f["".concat(e.type,"-banner")])||void 0===d||null===(s=d[y])||void 0===s?void 0:s.title,'" maka\n      data banner akan hilang secara permanen.'),onClick:function(){S()},loading:e.loading})]})}var K=Object(o.memo)(Z),P=n(438),G=n(737),N=n(738),Q=n(739),X=n(741),Y=n(22),$=n(480),ee=n(11),te=n(359),ne=n(721),ae=n(452),ce=n(479),ie=Object(ee.a)(te.a)((function(){return"\n    color: red\n  "})),re=Object(ce.b)({title:Object(ce.c)().required("Title wajib diisi"),file:Object(ce.a)().required("File wajib diisi")}).required();function le(e){var t,n,a=Object(Y.a)(Object(Y.a)({id:null,title:"",slug:"main-banner",description:"",url:"",relations:null},null===e||void 0===e?void 0:e.defaultValue),{},{expired_at:null!==e&&void 0!==e&&null!==(t=e.defaultValue)&&void 0!==t&&t.expired_at?Object(B.a)(Object(B.b)(Object(T.a)(null===e||void 0===e||null===(n=e.defaultValue)||void 0===n?void 0:n.expired_at),"UTC"),"yyyy-MM-dd'T'HH:mm",{timeZone:"UTC"}):Object(B.a)(new Date,"yyyy-MM-dd'T'HH:mm")}),c=Object(ae.e)({resolver:Object($.a)(re),defaultValues:a}),i=c.control,r=c.handleSubmit,l=c.formState.errors;return Object(W.jsxs)("form",{id:"banner-form",onSubmit:r((function(t){return e.onSubmit(t,!0)})),autoComplete:"off",children:[Object(W.jsx)(te.a,{mt:3,children:Object(W.jsx)(ae.a,{name:"title",control:i,defaultValue:"",render:function(e){var t,n=e.field;return Object(W.jsx)(ne.a,Object(Y.a)(Object(Y.a)({},n),{},{type:"text",placeholder:"Title",label:"Title",fullWidth:!0,error:!(null===l||void 0===l||!l.title),helperText:null===(t=l.title)||void 0===t?void 0:t.message}))}})}),Object(W.jsx)(te.a,{mt:3,children:Object(W.jsx)(ae.a,{name:"description",control:i,defaultValue:"",render:function(e){var t=e.field;return Object(W.jsx)(ne.a,Object(Y.a)(Object(Y.a)({},t),{},{type:"text",placeholder:"Description",label:"Description",rows:4,multiline:!0,fullWidth:!0}))}})}),Object(W.jsx)(te.a,{mt:3,children:Object(W.jsx)(ae.a,{name:"url",control:i,defaultValue:"",render:function(e){var t,n=e.field;return Object(W.jsx)(ne.a,Object(Y.a)(Object(Y.a)({},n),{},{type:"text",placeholder:"URL",label:"URL",fullWidth:!0,error:!(null===l||void 0===l||!l.url),helperText:null===(t=l.url)||void 0===t?void 0:t.message}))}})}),["promo-banner","about-us-gallery-banner"].includes(null===a||void 0===a?void 0:a.slug)&&Object(W.jsx)(te.a,{mt:3,children:Object(W.jsx)(ae.a,{name:"expired_at",control:i,defaultValue:Object(B.a)(new Date,"yyyy-MM-dd'T'HH:mm"),render:function(e){var t=e.field;return Object(W.jsx)(ne.a,Object(Y.a)(Object(Y.a)({},t),{},{label:"Expired Date",type:"datetime-local",sx:{width:250},InputLabelProps:{shrink:!0}}))}})}),Object(W.jsx)(te.a,{mt:3,children:Object(W.jsx)(ae.a,{name:"file",control:i,render:function(e){var t,n=e.field;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("input",{type:"file",onChange:function(e){n.onChange(e.target.files[0])}}),(null===l||void 0===l?void 0:l.file)&&Object(W.jsx)(ie,{children:null===l||void 0===l||null===(t=l.file)||void 0===t?void 0:t.message})]})}})})]})}var oe=d.a.memo(le);function de(e){return Object(W.jsxs)(G.a,{disableEscapeKeyDown:!0,open:e.open,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(W.jsx)(N.a,{children:Object(W.jsx)(w.a,{variant:"h3",gutterBottom:!0,children:"Form Banner"})}),Object(W.jsx)(Q.a,{children:Object(W.jsx)(oe,{onSubmit:e.onSubmit,defaultValue:e.defaultValue})}),Object(W.jsxs)(X.a,{children:[Object(W.jsx)(_.a,{onClick:e.handleClose,variant:"contained",color:"error",disabled:!!e.loading,sx:{width:100},children:"Batal"}),Object(W.jsx)(P.a,{type:"submit",loading:!!e.loading,disabled:!!e.loading,form:"banner-form",variant:"contained",sx:{width:100},children:"Simpan"})]})]})}var se=d.a.memo(de),je=n(742),be=n(743),ue=n(744);function Oe(e){var t,n,i,r,l,d,s,j=Object(x.a)(),b=Object(O.c)((function(e){return e.banners})).mainBannerData,p=Object(O.b)(),m=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(Object(u.c)({slug:"".concat(e.type,"-banner"),type:"collection",relations:"file"}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){m()}),[e.type]),Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(h.a,{children:[Object(W.jsx)(je.a,{action:Object(W.jsx)(C.a,{title:"Edit",arrow:!0,children:Object(W.jsx)(k.a,{onClick:function(){var t;return e.handleEditData(null===b||void 0===b||null===(t=b["".concat(e.type,"-banner")])||void 0===t?void 0:t[0])},sx:{"&:hover":{background:j.colors.primary.lighter},color:j.palette.primary.main},color:"inherit",size:"small",children:Object(W.jsx)(M.a,{fontSize:"small"})})}),title:"".concat(Object(q.a)(e.type)," banner")}),Object(W.jsx)(be.a,{component:"img",height:"140",image:"".concat(null===b||void 0===b||null===(t=b["".concat(e.type,"-banner")])||void 0===t||null===(n=t[0])||void 0===n||null===(i=n.file)||void 0===i?void 0:i.url),alt:"".concat(Object(q.a)(e.type)," banner image")}),Object(W.jsxs)(ue.a,{children:[Object(W.jsx)(w.a,{gutterBottom:!0,variant:"h5",component:"div",children:"".concat((null===b||void 0===b||null===(r=b["".concat(e.type,"-banner")])||void 0===r||null===(l=r[0])||void 0===l?void 0:l.title)||"-")}),Object(W.jsx)(w.a,{variant:"body2",color:"text.secondary",children:"".concat((null===b||void 0===b||null===(d=b["".concat(e.type,"-banner")])||void 0===d||null===(s=d[0])||void 0===s?void 0:s.description)||"-")})]})]})})}var he=d.a.memo(Oe),xe=n(200),pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss";return Object(xe.a)(new Date(e).getTime(),t)};function me(){var e=Object(o.useState)(!1),t=Object(i.a)(e,2),n=t[0],d=t[1],h=Object(O.c)((function(e){return e.banners})).loading,x=Object(o.useState)(null),p=Object(i.a)(x,2),m=p[0],f=p[1],v=Object(J.d)(),g=Object(O.b)(),y=Object(o.useCallback)((function(){d(!1),setTimeout((function(){f(null)}),100)}),[]),w=Object(o.useCallback)((function(e){e&&f(e),d(!0)}),[]),C=Object(o.useCallback)((function(e){e&&f(e),d(!0)}),[]),k=Object(o.useCallback)(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,c,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.expired_at&&(t.expired_at=pe(t.expired_at)),t.relations="file",c=new FormData,null!==t&&void 0!==t&&null!==(n=t.file)&&void 0!==n&&n.id||c.append("file",t.file),delete t.file,e.prev=5,e.next=8,g(null!==t&&void 0!==t&&t.id?Object(u.e)({payload:t,body:c}):Object(u.a)({payload:t,body:c}));case 8:i=e.sent,Object(b.e)(i)&&y(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),v.show(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(s.a,{children:Object(W.jsx)("title",{children:"Banner"})}),Object(W.jsx)(j.a,{children:Object(W.jsx)(L,{title:"main"})}),Object(W.jsx)(r.a,{maxWidth:"lg",children:Object(W.jsx)(l.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:["main","about-us","commerce"].map((function(e,t){return Object(W.jsx)(l.a,{item:!0,xs:4,children:Object(W.jsx)(he,{handleEditData:C,type:e})},"".concat(t,"-").concat(e,"-banner"))}))})}),Object(W.jsx)(K,{loading:h,handleOpenModal:w,handleOpenModalEdit:C,type:"promo"}),Object(W.jsx)(K,{loading:h,handleOpenModal:w,handleOpenModalEdit:C,type:"about-us-gallery"}),Object(W.jsx)(se,{open:n,handleClose:y,onSubmit:k,defaultValue:m,loading:h})]})}t.default=Object(o.memo)(me)}}]);
//# sourceMappingURL=10.90d8d240.chunk.js.map